<html>
<head>
    <link rel="stylesheet" href="styleChat.css">
    <title>Chat</title>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://twitter.github.io/typeahead.js/js/handlebars.js"></script>
    <script src="dashboardChat.js"></script>
</head>

<body>
<div class="chat-page">
    <div class="form" style="width: 100%; height: 100%;">
        <div class="chat">
            <div class="chat-header">
                <h3>Chat</h3>
            </div>
        </div>

        <!--ЛЕВЫЙ БЛОК-->
        <form class="chatlist-form column" style="width: 38%;  height: 740px;" action="">

            <!-- Блок профиля -->
            <div class="chat_profile" style="height: 10%;" >
                <div class="row" style="width: 100%;height: 20%;">
                    <p class="mysidelink" style="align:right"><a href="/profile" onclick="cancel()">Profile</a></p>
                </div>
                <div class="row" style="width: 100%; height: 100%;">
                    <input onblur="findChat()" type="text" style="width: 75%;height: 25px; margin-left: 5px;" placeholder="Find"/>
                    <button onclick="addChat()" style="width: 8%;" class="chat_button_darker">+</button>
                    <button onclick="delChat()" style="width: 8%;" class="chat_button_darker">-</button>
                </div>
            </div>

            <!-- Блок списка чатов -->
            <!-- todo тоже оформить через шаблонизатор,как и сообщения chat__wrapper -->
            <div class="chat_list" style="height: 90%;" onclick="clickOnChat()">
                <div class="chat-item"  id="chat-item1" ></div>
                <div class="chat-item"  id="chat-item2"></div>
            </div>


            <!-- todo подумать
             добавление и удаление пользователей из чата;-->
            <script>
            var lastMessageByChat= 'TEST TEST' ;
            document.getElementById('chat-item1').innerHTML = lastMessageByChat;

            var lastMessageByChat = 'Fine! What about u?';
            document.getElementById('chat-item2').innerHTML = lastMessageByChat;

            function clickOnChat(){
            //подгружать чат в правый блок
            }
            function addChat(){
            //создание чата;
            }
            function delChat(){
            //удаление чата;
            }
            function findChat(){
            //поиск по всем чатам;
            }
            </script>

        </form>

        <!--ПРАВЫЙ БЛОК-->
        <form class="chat-form column"  style=" width: 60%;  height: 740px;" action="">

            <!-- Блок мессенджра -->
            <div class="message_wrapper" style=" width: 100%; height: 90%;" id="message_container">

                <!--todo Доделать. Не получилось нормально отобразить-->
                <!--<script id="message_list" type="text/x-handlerbars-template">
                    {{#each message_list}}
                    <div class="container">
                        <p>{{message}}</p>
                        <span class="time-right">{{author}}</span>
                        <span class="time-right">{{time}}</span>
                    {{/each}}
                    </div>
                </script>-->

                <div class="container">
                    <p>Hello!</p>
                    <span class="time-right">10:10:01</span>
                    <span class="time-right">Kate</span>
                </div>
                <div class="container">
                    <p>Wow,Hi!</p>
                    <span class="time-right">10:11:02</span>
                    <span class="time-right">Anny</span>
                </div>
                <div class="container">
                    <p>How are you?</p>
                    <span class="time-right">10:11:03</span>
                    <span class="time-right">Kate</span>
                </div>
                <div class="container"> <!--<div class="container darker">-->
                    <p>Fine! What about u?</p>
                    <span class="time-right">10:11:04</span>
                    <span class="time-right">Anny</span>
                </div>
                <div class="container" id="textMessage">
                </div>
            </div>

            <!-- Блок ввода/отправки сообщения -->
            <div class="text_wrapper" style=" width: 100%; height: 10%;" id="text_container">
                <input style=" height: 25px; width: 90%; margin-left: 5px;" type="text" id="message"/>
                <button onclick="send()" style=" width: 5%;" class="chat_button_darker">></button>
            </div>

            <script>
            function send(){
            var textMessage = document.getElementById('message').value
            document.getElementById('textMessage').innerHTML = textMessage;
            }
            </script>

        </form>


    </div>
</div>
</body>
</html>